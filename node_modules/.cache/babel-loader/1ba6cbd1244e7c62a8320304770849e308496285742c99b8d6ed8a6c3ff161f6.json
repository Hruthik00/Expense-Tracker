{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hruth\\\\Downloads\\\\project\\\\Expense-Tracker-main\\\\src\\\\components\\\\chart\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport Chart from \"react-apexcharts\";\nimport { useContext } from \"react\";\nimport { GlobalContext } from \"../../context\";\nimport { Box, Flex, Heading, Text } from \"@chakra-ui/react\"; // Import necessary Chakra UI components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TransactionChartSummary() {\n  _s();\n  const {\n    allTransactions\n  } = useContext(GlobalContext);\n\n  // Filter out transactions with amount 0 or invalid amounts, and convert to numbers\n  const validTransactions = allTransactions.filter(transaction => typeof transaction.amount === 'number' && transaction.amount > 0);\n\n  // Prepare data for ApexCharts\n  const seriesData = validTransactions.map(transaction => transaction.amount);\n  const labelsData = validTransactions.map(transaction => transaction.description);\n  const colorsData = validTransactions.map(transaction => transaction.type === \"expense\" ? \"#FD5E53\" : \"#213ebf\" // Dynamic colors based on transaction type\n  );\n  const options = {\n    labels: labelsData,\n    colors: colorsData,\n    chart: {\n      width: \"100%\"\n    },\n    states: {\n      hover: {\n        filter: {\n          type: \"none\"\n        }\n      }\n    },\n    legend: {\n      show: true,\n      // Show legend to identify transactions\n      position: 'bottom' // Position legend at the bottom\n    },\n    dataLabels: {\n      enabled: true,\n      // Enable data labels to show values/percentages\n      formatter: function (val, opts) {\n        // Ensure opts.w.config.series[opts.seriesIndex] is a number before using toFixed\n        const amount = typeof opts.w.config.series[opts.seriesIndex] === 'number' ? opts.w.config.series[opts.seriesIndex] : 0;\n        return `$${amount.toFixed(2)} - ${val.toFixed(1)}%`;\n      }\n    },\n    hover: {\n      mode: null\n    },\n    plotOptions: {\n      pie: {\n        expandOnClick: false,\n        donut: {\n          labels: {\n            show: true,\n            name: {\n              show: true\n            },\n            value: {\n              show: true,\n              formatter: function (val) {\n                // Ensure val is a number before using toFixed\n                return `$${(typeof val === 'number' ? val : 0).toFixed(2)}`;\n              }\n            },\n            total: {\n              show: true,\n              label: 'Total',\n              formatter: function (w) {\n                // Ensure calculation results in a number before calling toFixed\n                const total = w.globals.series.reduce((a, b) => a + b, 0);\n                return `$${total.toFixed(2)}`;\n              }\n            }\n          }\n        }\n      }\n    },\n    fill: {\n      colors: colorsData\n    },\n    tooltip: {\n      enabled: true,\n      theme: \"dark\",\n      style: {\n        fontSize: \"12px\",\n        fontFamily: undefined,\n        backgroundColor: \"#000000\"\n      },\n      y: {\n        // Custom tooltip formatter to show amount\n        formatter: function (val) {\n          // Ensure val is a number before using toFixed\n          return `$${(typeof val === 'number' ? val : 0).toFixed(2)}`;\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    flex: 1,\n    w: \"full\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    h: \"100%\",\n    minW: \"300px\",\n    maxW: \"400px\",\n    children: /*#__PURE__*/_jsxDEV(Flex, {\n      flexDir: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      h: \"100%\",\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        size: \"md\",\n        color: \"red.700\",\n        children: \"Transaction Distribution\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), validTransactions.length > 0 ?\n      /*#__PURE__*/\n      // Only render if there are transactions\n      _jsxDEV(Chart, {\n        options: options,\n        series: seriesData,\n        type: \"pie\",\n        width: \"100%\",\n        height: \"100%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Text, {\n        mt: 4,\n        children: \"No transactions to display in chart.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n_s(TransactionChartSummary, \"tbqMhW2sjX9alAlKeUiwA0CEhjE=\");\n_c = TransactionChartSummary;\nvar _c;\n$RefreshReg$(_c, \"TransactionChartSummary\");","map":{"version":3,"names":["Chart","useContext","GlobalContext","Box","Flex","Heading","Text","jsxDEV","_jsxDEV","TransactionChartSummary","_s","allTransactions","validTransactions","filter","transaction","amount","seriesData","map","labelsData","description","colorsData","type","options","labels","colors","chart","width","states","hover","legend","show","position","dataLabels","enabled","formatter","val","opts","w","config","series","seriesIndex","toFixed","mode","plotOptions","pie","expandOnClick","donut","name","value","total","label","globals","reduce","a","b","fill","tooltip","theme","style","fontSize","fontFamily","undefined","backgroundColor","y","flex","display","alignItems","justifyContent","h","minW","maxW","children","flexDir","size","color","fileName","_jsxFileName","lineNumber","columnNumber","length","height","mt","_c","$RefreshReg$"],"sources":["C:/Users/hruth/Downloads/project/Expense-Tracker-main/src/components/chart/index.jsx"],"sourcesContent":["import Chart from \"react-apexcharts\";\nimport { useContext } from \"react\";\nimport { GlobalContext } from \"../../context\";\nimport { Box, Flex, Heading, Text } from \"@chakra-ui/react\"; // Import necessary Chakra UI components\n\nexport default function TransactionChartSummary() {\n  const { allTransactions } = useContext(GlobalContext);\n\n  // Filter out transactions with amount 0 or invalid amounts, and convert to numbers\n  const validTransactions = allTransactions.filter(transaction =>\n    typeof transaction.amount === 'number' && transaction.amount > 0\n  );\n\n  // Prepare data for ApexCharts\n  const seriesData = validTransactions.map(transaction => transaction.amount);\n  const labelsData = validTransactions.map(transaction => transaction.description);\n  const colorsData = validTransactions.map(transaction =>\n    transaction.type === \"expense\" ? \"#FD5E53\" : \"#213ebf\" // Dynamic colors based on transaction type\n  );\n\n  const options = {\n    labels: labelsData,\n    colors: colorsData,\n    chart: {\n      width: \"100%\",\n    },\n    states: {\n      hover: {\n        filter: {\n          type: \"none\",\n        },\n      },\n    },\n    legend: {\n      show: true, // Show legend to identify transactions\n      position: 'bottom', // Position legend at the bottom\n    },\n    dataLabels: {\n      enabled: true, // Enable data labels to show values/percentages\n      formatter: function (val, opts) {\n        // Ensure opts.w.config.series[opts.seriesIndex] is a number before using toFixed\n        const amount = typeof opts.w.config.series[opts.seriesIndex] === 'number' ? opts.w.config.series[opts.seriesIndex] : 0;\n        return `$${amount.toFixed(2)} - ${val.toFixed(1)}%`;\n      },\n    },\n    hover: { mode: null },\n    plotOptions: {\n      pie: {\n        expandOnClick: false,\n        donut: {\n          labels: {\n            show: true,\n            name: {\n              show: true,\n            },\n            value: {\n              show: true,\n              formatter: function (val) {\n                // Ensure val is a number before using toFixed\n                return `$${(typeof val === 'number' ? val : 0).toFixed(2)}`;\n              },\n            },\n            total: {\n                show: true,\n                label: 'Total',\n                formatter: function (w) {\n                    // Ensure calculation results in a number before calling toFixed\n                    const total = w.globals.series.reduce((a, b) => a + b, 0);\n                    return `$${total.toFixed(2)}`;\n                }\n            }\n          },\n        },\n      },\n    },\n    fill: {\n      colors: colorsData,\n    },\n    tooltip: {\n      enabled: true,\n      theme: \"dark\",\n      style: {\n        fontSize: \"12px\",\n        fontFamily: undefined,\n        backgroundColor: \"#000000\",\n      },\n      y: { // Custom tooltip formatter to show amount\n          formatter: function (val) {\n              // Ensure val is a number before using toFixed\n              return `$${(typeof val === 'number' ? val : 0).toFixed(2)}`\n          }\n      }\n    },\n  };\n\n  return (\n    <Box\n      flex={1}\n      w=\"full\"\n      display={\"flex\"}\n      alignItems={\"center\"}\n      justifyContent={\"center\"}\n      h={\"100%\"}\n      minW={\"300px\"}\n      maxW={\"400px\"}\n    >\n      <Flex flexDir={\"column\"} alignItems={\"center\"} justifyContent={\"center\"} h={\"100%\"}>\n        <Heading size={\"md\"} color={\"red.700\"}>\n          Transaction Distribution\n        </Heading>\n        {validTransactions.length > 0 ? ( // Only render if there are transactions\n          <Chart\n            options={options}\n            series={seriesData}\n            type=\"pie\"\n            width={\"100%\"}\n            height={\"100%\"}\n          />\n        ) : (\n          <Text mt={4}>No transactions to display in chart.</Text>\n        )}\n      </Flex>\n    </Box>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}